@if (selectedComplaint) {
 <div class="bg-white shadow-md rounded-lg border border-gray-200 overflow-hidden">
    <div class="px-6 py-5">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-semibold text-gray-900">
          Complaint: {{ selectedComplaint.title }}
        </h3>
        <div class="flex items-center gap-2">
            @if(editMode){
          <button 
          (click)="onCancel()"
                  class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-slate-700 bg-slate-100 hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Cancel
          </button>
        }
          <button (click)="toggleEdit()"
                  class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            {{ editMode ? 'Save' : 'Edit' }}

          </button>
        </div>
      </div>
      <p class="mt-2 text-sm text-gray-600">
        This is some information about the complaint.
      </p>
    </div>
    <div class="border-t border-gray-200 px-6 py-5">
      <div class="grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6">
        <div>
          <label class="block text-sm font-medium text-gray-500">
            Title
          </label>
          <div class="mt-1">
            <input type="text" 
            [(ngModel)]="selectedComplaint.title"
            [readonly]="!editMode" [style.background]="editMode ? 'white' : 'gainsboro'"
            class="block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none text-gray-900 text-sm px-3 py-2">
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-500">
            Category
          </label>
          <div class="mt-1">
            <select [(ngModel)]="selectedComplaint.category"
                    [disabled]="!editMode"
                    [style.background]="editMode ? 'white' : 'gainsboro'"
                    class="block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none text-gray-900 text-sm px-3 py-2">
                @for(item of category; track $index){
                    <option  [value]="item">
                        {{ item }}
                    </option>
                }
            </select>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-500">
            Client
          </label>
          <div class="mt-1">
            <select [(ngModel)]="selectedComplaint.client"
                    [disabled]="!editMode"
                    [style.background]="editMode ? 'white' : 'gainsboro'"
                    class="block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none text-gray-900 text-sm px-3 py-2">
                  @for(item of clients; track $index){
                    <option  [ngValue]="item">
                      {{ item.clientName }}
                    </option>
                  }
                    
            </select>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-500">
            Status
          </label>
          <div class="mt-1">
            <select [(ngModel)]="selectedComplaint.status"
                    [disabled]="!editMode"
                    [style.background]="editMode ? 'white' : 'gainsboro'"
                    class="block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none text-gray-900 text-sm px-3 py-2">
                @for(item of statuses; track $index){
                    <option  [ngValue]="item">
                            {{ item }}
                    </option>
                }
            </select>
          </div>
        </div>
        <div class="col-span-2">
          <label class="block text-sm font-medium text-gray-500">
            Description
          </label>
          <div class="mt-1">
            <textarea [(ngModel)]="selectedComplaint.description"
                      [readonly]="!editMode" [style.background]="editMode ? 'white' : 'gainsboro'"
                      class="block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none text-gray-900 text-sm px-3 py-2"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
}